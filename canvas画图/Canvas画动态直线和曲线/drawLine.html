<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<canvas id="canvas" style="border: 1px solid #ccc; margin: 50px auto;"></canvas>

<script>

    var canvas = document.getElementById("canvas");
    canvas.width = 800;
    canvas.height = 800;
    var context = canvas.getContext("2d");

    drawRowLine(400,400,100,context);

    //动态画横线
    function drawRowLine(startX, startY, length, ctx) {
        var iLen = 0;

        function rowLine() {
            if (iLen <= length) {
                ctx.moveTo(startX, startY);
                ctx.lineTo(++startX, --startY);
                ctx.strokeStyle = "red";
                iLen++;
                ctx.stroke();
            } else {
                console.log(111);
                clearInterval(timer);
            }
        }

        var timer = setInterval(rowLine, 5);
    }


</script>
</body>
</html>