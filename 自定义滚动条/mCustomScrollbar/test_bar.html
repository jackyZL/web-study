<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--第一步：加载 mCustomScrollbar 的样式文件。-->
    <link href="css/jquery.mCustomScrollbar.css" rel="stylesheet" type="text/css" />

    <!--第二步：加载必须的 JS 文件。 jQuery 和 jQuery UI 是必须的，
     jquery.mousewheel.min.js 是用来提供滚动支持的，jquery.mCustomScrollbar.js 则是插件的主文件-->
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/jquery-ui-1.10.4.min.js"></script>
    <script src="js/jquery.mousewheel.min.js"></script>
    <script src="js/jquery.mCustomScrollbar.js"></script>

    <style>

        .content{
            border: 1px solid #cccccc;
            width:200px;
            height:200px;
            overflow:auto;
        }

    </style>


</head>
<body>

    <!--第四步：在页面中添加内容和 mCustomScrollbar 的样式-->
    <div class="content">
        <p>走过一条寂寞的街角
            期盼一张熟悉的微笑
            一首老情歌听湿了眼睛
            继续爱下去我会怎样
            如果不能完全的遗忘
            时间是否真能够疗伤
            面对这一身累积的痴狂
            托付给谁有没有罪
            回忆再美好也只是曾经
            守护是我们彼此的约定
            风轻轻的吹 我们的歌谣
            是谁唱着哄你入睡
            你是我眼中抹不掉的泪
            为什么最后才想起后悔
            喊你的名字 渐远的背影
            你走进梦的天际 永不回
            我的爱就像风沙吹
            飞进眼里汇成了泪
            还要轻轻揉到天黑
            异乡清宵寒夜梦回
            我的爱就像沙中灰
            埋葬泪滑落的伤悲
            怎么也擦不断心碎
            一寸相思一寸香味
            如果不能完全的遗忘
            时间是否真能够疗伤
            面对这一身累积的痴狂
            托付给谁有没有罪
            回忆再美好也只是曾经
            守护是我们彼此的约定
            风轻轻的吹 我们的歌谣
            是谁唱着哄你入睡
            你是我眼中抹不掉的泪
            为什么最后才想起后悔
            喊你的名字 渐远的背影
            你走进梦的天际 永不回
            我的爱就像风沙吹
            飞进眼里汇成了泪
            还要轻轻揉到天黑
            异乡清宵寒夜梦回
            我的爱就像沙中灰
            埋葬泪滑落的伤悲
            怎么也擦不断心碎
            一寸相思一寸香味
            我的爱就像沙中灰
            埋葬泪滑落的伤悲
            怎么也擦不断心碎
            一寸相思一寸香味
            我的爱就像沙中灰
            埋葬泪滑落的伤悲
            怎么也擦不断心碎
            一寸相思一寸香
        </p>
    </div>

    <div class="test-data" style="height: 50px; width: 50px;" data-name="jacky" data-age="19">
        test 多个data自定义属性
    </div>


    <!--第三步：应用 mCustomScrollbar-->
    <script type='text/javascript'>
        $(function(){

            $(".content").mCustomScrollbar({
                scrollInertia:450,
                callbacks:{
                    onScrollStart:function(){},
                    onScroll:function(){},
                    onTotalScroll:function(){
                        //console.log(111);
                    },
                    onTotalScrollBack:function(){},
                    whileScrolling: function(){      　// 只要滚动条滚动，这个函数就会执行
                        if (this.mcs.topPct >= 95) {    // 这表示当滚动条滚动到这个div的90%(当然这个值是可变的)的时候调用下面的代码，
                            console.log(111);
                            $(".content p").append("只要滚动条滚动，这个函数就会执行,这表示当滚动条滚动到这个div的90%");
                        }
                    }
                }
            });

            $(".test-data").click(function(){
                alert($(this).data("age"));
            });

        });
    </script>

</body>
</html>